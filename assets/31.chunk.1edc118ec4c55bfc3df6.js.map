{"version":3,"sources":["webpack:///./node_modules/gsap/all.js","webpack:///./src/js/components/ui/Modal.js"],"names":["gsapWithCSS","registerPlugin","core","Tween","delegate","require","Modal","el","ctx","this","isActive","identifier","dataset","init","initAnimations","bindEvents","modal","body","document","querySelector","pageWraper","modalContent","modalBox","backdrop","instanceOptions","str2json","options","wrapper","tl","gsap","timeline","onStart","set","display","classList","add","paused","onComplete","disableBodyScroll","onReverseComplete","remove","enableBodyScroll","immediateRender","from","duration","opacity","autoAlpha","y","ease","on","state","action","addEventListener","e","close","window","keyCode","disabled","open","CustomEvent","play","dispatchEvent","isInactive","reverse","component","node"],"mappings":"2FAAA,qDAEIA,EAAc,IAAKC,eAAe,MAAc,IACjCD,EAAYE,KAAKC,O,+rBCApC,IAAMC,EAAWC,EAAQ,IAInBC,E,WACJ,WAAYC,EAAIC,GAAK,YACnBC,KAAKD,IAAMA,EACXC,KAAKC,UAAW,EAChBD,KAAKE,WAAaJ,EAAGK,QAAQD,WAC7BF,KAAKI,KAAKN,GACVE,KAAKK,iBACLL,KAAKM,a,gCAIP,SAAKR,GAEHE,KAAKF,GAAKA,EACVE,KAAKO,MAAQT,EACbE,KAAKQ,KAAOC,SAASC,cAAc,QACnCV,KAAKW,WAAaF,SAASC,cAAc,SACzCV,KAAKY,aAAed,EAAGY,cAAc,mBACrCV,KAAKa,SAAWf,EAAGY,cAAc,eACjCV,KAAKc,SAAWhB,EAAGY,cAAc,aAEjC,IAIMK,EAAkBC,YAAShB,KAAKF,GAAGK,QAAQc,SACjC,EAAH,KALI,IAKiBF,K,4BAGpC,WAAiB,WACTP,EAAOC,SAASD,KAChBU,EAAUlB,KAAKF,GACfgB,EAAWd,KAAKc,SAChBP,EAAQP,KAAKa,SAEnBb,KAAKmB,GAAKC,IAAKC,SAAS,CACtBC,QAAS,WACPF,IAAKG,IAAIL,EAAS,CAAEM,QAAS,SAC7BhB,EAAKiB,UAAUC,IAAI,kBAErBC,QAAQ,EACRC,WAAY,WACV,EAAK3B,UAAW,EAChB4B,YAAkB,EAAKjB,eAEzBkB,kBAAmB,WACjB,EAAK7B,UAAW,EAChBO,EAAKiB,UAAUM,OAAO,iBACtBC,YAAiB,EAAKpB,cACtBQ,IAAKG,IAAIL,EAAS,CAAEM,QAAS,YAIjCxB,KAAKmB,GAAGI,IAAIL,EAAS,CAAEM,QAAS,OAAQS,iBAAiB,IAGzDjC,KAAKmB,GAAGe,KAAKhB,EAAS,CAAEiB,SAAU,GAAKC,QAAS,IAChDpC,KAAKmB,GAAGe,KAAKpB,EAAU,CAAEqB,SAAU,IAAME,UAAW,IAEpDrC,KAAKmB,GAAGe,KACN3B,EACA,CACE4B,SAAU,GACVG,EAAG,MACHD,UAAW,EACXE,KAAM,gBAER,W,wBAIJ,WAAa,WACXvC,KAAKD,IAAIyC,GAAG,SAAS,SAACC,GAChBA,EAAMvC,aAAe,EAAKA,YAC5B,EAAKuC,EAAMC,aAIX1C,KAAKc,UACPd,KAAKc,SAAS6B,iBAAiB,SAAS,SAACC,GACvC,EAAKC,WAITlD,EACEK,KAAKF,GACL,cACA,SACA,SAAC8C,GACC,EAAKC,WAEP,GAIFC,OAAOH,iBAAiB,SAAQ,SAACC,GACd,IAAbA,EAAEG,SAAiB,EAAK9C,UAE1B,EAAK4C,a,oBAKX,WAEM7C,KAAKgD,WAGLhD,KAAKC,SACPD,KAAK6C,QAEL7C,KAAKiD,U,kBAIT,WACE,IAAMhD,EAAW,IAAIiD,YAAY,YAC7BlD,KAAKC,WAGTD,KAAKmB,GAAGgC,OACRnD,KAAKF,GAAGsD,cAAcnD,M,mBAGxB,WACE,IAAMoD,EAAa,IAAIH,YAAY,cAC9BlD,KAAKC,WAGVD,KAAKmB,GAAGmC,UACRtD,KAAKF,GAAGsD,cAAcC,Q,KAIXE,uBAAU,SAACC,EAAMzD,GAC9B,IAAIF,EAAM2D,EAAMzD","file":"31.chunk.1edc118ec4c55bfc3df6.js","sourcesContent":["import gsap from \"./gsap-core.js\";\nimport CSSPlugin from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap, // to protect from tree shaking\n\tTweenMaxWithCSS = gsapWithCSS.core.Tween;\n\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax };\nexport { TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, mapRange, pipe, unitize, interpolate, shuffle } from \"./gsap-core.js\";\nexport * from \"./Draggable.js\";\nexport * from \"./CSSRulePlugin.js\";\nexport * from \"./EaselPlugin.js\";\nexport * from \"./EasePack.js\";\nexport * from \"./MotionPathPlugin.js\";\nexport * from \"./PixiPlugin.js\";\nexport * from \"./ScrollToPlugin.js\";\nexport * from \"./ScrollTrigger.js\";\nexport * from \"./TextPlugin.js\"; \n\n//BONUS EXPORTS\n//export * from \"./CustomEase.js\";\n//export * from \"./DrawSVGPlugin.js\";\n//export * from \"./Physics2DPlugin.js\";\n//export * from \"./PhysicsPropsPlugin.js\";\n//export * from \"./ScrambleTextPlugin.js\";\n//export * from \"./CustomBounce.js\";\n//export * from \"./CustomWiggle.js\";\n//export * from \"./Flip.js\";\n//export * from \"./GSDevTools.js\";\n//export * from \"./InertiaPlugin.js\";\n//export * from \"./MorphSVGPlugin.js\";\n//export * from \"./MotionPathHelper.js\";\n//export * from \"./SplitText.js\";","import { gsap } from 'gsap/all';\nimport { component } from 'picoapp';\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\nconst delegate = require('delegate');\n\nimport { str2json } from '../../utilities';\n\nclass Modal {\n  constructor(el, ctx) {\n    this.ctx = ctx;\n    this.isActive = false;\n    this.identifier = el.dataset.identifier;\n    this.init(el);\n    this.initAnimations();\n    this.bindEvents();\n    // console.log('hello modal');\n  }\n\n  init(el) {\n    // cache elements\n    this.el = el;\n    this.modal = el;\n    this.body = document.querySelector('body');\n    this.pageWraper = document.querySelector('.Main');\n    this.modalContent = el.querySelector('.Modal__content');\n    this.modalBox = el.querySelector('.Modal__box');\n    this.backdrop = el.querySelector('.backdrop');\n\n    const defaults = {\n      // position: 'left'\n    };\n\n    const instanceOptions = str2json(this.el.dataset.options);\n    const options = { ...defaults, ...instanceOptions };\n  }\n\n  initAnimations() {\n    const body = document.body;\n    const wrapper = this.el;\n    const backdrop = this.backdrop;\n    const modal = this.modalBox;\n\n    this.tl = gsap.timeline({\n      onStart: () => {\n        gsap.set(wrapper, { display: 'flex' });\n        body.classList.add('has-modalOpen');\n      },\n      paused: true,\n      onComplete: () => {\n        this.isActive = true;\n        disableBodyScroll(this.modalContent);\n      },\n      onReverseComplete: () => {\n        this.isActive = false;\n        body.classList.remove('has-modalOpen');\n        enableBodyScroll(this.modalContent);\n        gsap.set(wrapper, { display: 'none' });\n      },\n    });\n\n    this.tl.set(wrapper, { display: 'flex', immediateRender: false });\n\n    // Shade\n    this.tl.from(wrapper, { duration: 0.4, opacity: 0 });\n    this.tl.from(backdrop, { duration: 0.35, autoAlpha: 0 });\n\n    this.tl.from(\n      modal,\n      {\n        duration: 0.5,\n        y: '50%',\n        autoAlpha: 0,\n        ease: 'Expo.easeOut',\n      },\n      '-=0.4'\n    );\n  }\n\n  bindEvents() {\n    this.ctx.on('Modal', (state) => {\n      if (state.identifier === this.identifier) {\n        this[state.action]();\n      }\n    });\n\n    if (this.backdrop) {\n      this.backdrop.addEventListener('click', (e) => {\n        this.close();\n      });\n    }\n\n    delegate(\n      this.el,\n      '.closeModal',\n      'click',\n      (e) => {\n        this.close();\n      },\n      false\n    );\n\n    // Close modal with ESC key\n    window.addEventListener('keyup',(e) => {\n      if (e.keyCode == 27 && this.isActive) {\n        // escape key maps to keycode `27`\n        this.close();\n      }\n    });\n  }\n\n  toggle() {\n    // Bailout if toggle component is disabled\n    if (this.disabled) {\n      return;\n    }\n    if (this.isActive) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  open() {\n    const isActive = new CustomEvent('isActive');\n    if (this.isActive) {\n      return;\n    }\n    this.tl.play();\n    this.el.dispatchEvent(isActive);\n  }\n\n  close() {\n    const isInactive = new CustomEvent('isInactive');\n    if (!this.isActive) {\n      return;\n    }\n    this.tl.reverse();\n    this.el.dispatchEvent(isInactive);\n  }\n}\n\nexport default component((node, ctx) => {\n  new Modal(node, ctx);\n});\n"],"sourceRoot":""}